<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get the UID codes from NCBI for taxonomic names. — get_uid • taxize</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">taxize</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/taxize">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get the UID codes from NCBI for taxonomic names.</h1>
    </div>

    
    <p>Retrieve the Unique Identifier (UID) of a taxon from NCBI taxonomy browser.</p>
    

    <pre><span class='fu'>get_uid</span>(<span class='no'>sciname</span>, <span class='kw'>ask</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>rows</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>modifier</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>rank_query</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>division_filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>rank_filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>as.uid</span>(<span class='no'>x</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S3 method for uid</span>
<span class='fu'>as.uid</span>(<span class='no'>x</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S3 method for character</span>
<span class='fu'>as.uid</span>(<span class='no'>x</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S3 method for list</span>
<span class='fu'>as.uid</span>(<span class='no'>x</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>as.uid</span>(<span class='no'>x</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>as.uid</span>(<span class='no'>x</span>, <span class='kw'>check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S3 method for uid</span>
<span class='fu'>as.data.frame</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>get_uid_</span>(<span class='no'>sciname</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>rows</span> <span class='kw'>=</span> <span class='fl'>NA</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>sciname</dt>
      <dd>character; scientific name.</dd>
      <dt>ask</dt>
      <dd>logical; should get_uid be run in interactive mode?
If TRUE and more than one TSN is found for the species, the user is asked for
input. If FALSE NA is returned for multiple matches.</dd>
      <dt>verbose</dt>
      <dd>logical; If TRUE the actual taxon queried is printed on the console.</dd>
      <dt>rows</dt>
      <dd>numeric; Any number from 1 to infinity. If the default NA, all rows are considered.
Note that this function still only gives back a uid class object with one to many identifiers.
See <code>get_uid_</code> to get back all, or a subset, of the raw data that you are
presented during the ask process.</dd>
      <dt>modifier</dt>
      <dd>(character) A modifier to the <code>sciname</code> given. Options include:
Organism, Scientific Name, Common Name, All Names, Division, Filter, Lineage, GC,
MGC, Name Tokens, Next Level, PGC, Properties, Rank, Subtree, Synonym, Text Word.
These are not checked, so make sure they are entered correctly, as is.</dd>
      <dt>rank_query</dt>
      <dd>(character) A taxonomic rank name to modify the query sent to NCBI.
See <code><a href='rank_ref.html'>rank_ref</a></code> for possible options. Though note
that some data sources use atypical ranks, so inspect the data itself for options.
Optional. See <code>Querying</code> below.</dd>
      <dt>division_filter</dt>
      <dd>(character) A division (aka phylum) name to filter data after
retrieved from NCBI. Optional. See <code>Filtering</code> below.</dd>
      <dt>rank_filter</dt>
      <dd>(character) A taxonomic rank name to filter data after
retrieved from NCBI. See <code><a href='rank_ref.html'>rank_ref</a></code> for possible options. Though note
that some data sources use atypical ranks, so inspect the data itself for options.
Optional. See <code>Filtering</code> below.</dd>
      <dt>...</dt>
      <dd>Ignored</dd>
      <dt>x</dt>
      <dd>Input to <code>as.uid</code></dd>
      <dt>check</dt>
      <dd>logical; Check if ID matches any existing on the DB, only used in
<code>as.uid</code></dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector of taxonomic identifiers as an S3 class.
If a taxon is not found an <code>NA</code> is given. If more than one identifier is found the
function asks for user input if <code>ask = TRUE</code>, otherwise returns <code>NA</code>.
If <code>ask=FALSE</code> and <code>rows</code> does not equal <code>NA</code>, then a data.frame is
given back, but not of the uid class, which you can&#39;t pass on to other functions
as you normally can.</p>
    <p>Comes with the following attributes:
<ul>
<li> <em>match</em> (character) - the reason for NA, either &#39;not found&#39;, &#39;found&#39; or
 if <code>ask = FALSE</code> then &#39;NA due to ask=FALSE&#39;)
 </li>
<li> <em>multiple_matches</em> (logical) - Whether multiple matches were returned by
 the data source. This can be <code>TRUE</code>, even if you get 1 name back because we try
 to pattern match the name to see if there&#39;s any direct matches. So sometimes
 this attribute is <code>TRUE</code>, as well as <code>pattern_match</code>, which then returns 1
 resulting name without user prompt.
 </li>
<li> <em>pattern_match</em> (logical) - Whether a pattern match was made. If <code>TRUE</code>
 then <code>multiple_matches</code> must be <code>TRUE</code>, and we found a perfect match to your
 name, ignoring case. If <code>FALSE</code>
</li>
</ul></p>
    
    <h2 class="hasAnchor" id="querying"><a class="anchor" href="#querying"></a>Querying</h2>

    <p></p>
    <p>The parameter <code>rank_query</code> is used in the search sent to NCBI, whereas
<code>rank_filter</code> filters data after it comes back. The parameter
<code>modifier</code> adds modifiers to the name. For example, <code>modifier=&quot;Organism&quot;</code>
adds that to the name, giving e.g., <code>Helianthus[Organism]</code>.</p>
    
    <h2 class="hasAnchor" id="filtering"><a class="anchor" href="#filtering"></a>Filtering</h2>

    <p></p>
    <p>The parameters <code>division_filter</code> and <code>rank_filter</code> are not used in
the search to the data provider, but are used in filtering the data down to a
subset that is closer to the target you want. For all these parameters, you can
use regex strings since we use <code>grep</code> internally to match.
Filtering narrows down to the set that matches your query, and removes the rest.</p>
    
    <h2 class="hasAnchor" id="beware"><a class="anchor" href="#beware"></a>Beware</h2>

    <p></p>
    <p>NCBI does funny things sometimes. E.g., if you search on Fringella morel, a slight
misspelling of the genus name, and a non-existent epithet, NCBI gives back a morel
fungal species. In addition, NCBI doesn&#39;t really do fuzzy searching very well, so if
there is a slight mis-spelling in your names, you likely won&#39;t get what you are
expecting. The lesson: clean your names before using this function. Other data
sources are better about fuzzy matching.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='classification.html'>classification</a></code></p>
    <p>Other taxonomic-ids: <code><a href='get_boldid.html'>get_boldid</a></code>,
  <code><a href='get_colid.html'>get_colid</a></code>, <code><a href='get_eolid.html'>get_eolid</a></code>,
  <code><a href='get_gbifid.html'>get_gbifid</a></code>, <code><a href='get_ids.html'>get_ids</a></code>,
  <code><a href='get_natservid.html'>get_natservid</a></code>, <code><a href='get_nbnid.html'>get_nbnid</a></code>,
  <code><a href='get_tolid.html'>get_tolid</a></code>, <code><a href='get_tpsid.html'>get_tpsid</a></code>,
  <code><a href='get_tsn.html'>get_tsn</a></code>, <code><a href='get_wormsid.html'>get_wormsid</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Not run: ------------------------------------</span>
<span class='co'># get_uid(c("Chironomus riparius", "Chaetopteryx"))</span>
<span class='co'># get_uid(c("Chironomus riparius", "aaa vva"))</span>
<span class='co'># </span>
<span class='co'># # When not found</span>
<span class='co'># get_uid("howdy")</span>
<span class='co'># get_uid(c("Chironomus riparius", "howdy"))</span>
<span class='co'># </span>
<span class='co'># # Narrow down results to a division or rank, or both</span>
<span class='co'># ## By modifying the query</span>
<span class='co'># ### w/ modifiers to the name</span>
<span class='co'># get_uid(sciname = "Aratinga acuticauda", modifier = "Organism")</span>
<span class='co'># get_uid(sciname = "bear", modifier = "Common Name")</span>
<span class='co'># </span>
<span class='co'># ### w/ rank query</span>
<span class='co'># get_uid(sciname = "Pinus", rank_query = "genus")</span>
<span class='co'># get_uid(sciname = "Pinus", rank_query = "subgenus")</span>
<span class='co'># ### division query doesn't really work, for unknown reasons, so not available</span>
<span class='co'># </span>
<span class='co'># ## By filtering the result</span>
<span class='co'># ## Echinacea example</span>
<span class='co'># ### Results w/o narrowing</span>
<span class='co'># get_uid("Echinacea")</span>
<span class='co'># ### w/ division</span>
<span class='co'># get_uid(sciname = "Echinacea", division_filter = "eudicots")</span>
<span class='co'># get_uid(sciname = "Echinacea", division_filter = "sea urchins")</span>
<span class='co'># </span>
<span class='co'># ## Satyrium example</span>
<span class='co'># ### Results w/o narrowing</span>
<span class='co'># get_uid(sciname = "Satyrium")</span>
<span class='co'># ### w/ division</span>
<span class='co'># get_uid(sciname = "Satyrium", division_filter = "monocots")</span>
<span class='co'># get_uid(sciname = "Satyrium", division_filter = "butterflies")</span>
<span class='co'># </span>
<span class='co'># ## Rank example</span>
<span class='co'># get_uid(sciname = "Pinus")</span>
<span class='co'># get_uid(sciname = "Pinus", rank_filter = "genus")</span>
<span class='co'># get_uid(sciname = "Pinus", rank_filter = "subgenus")</span>
<span class='co'># </span>
<span class='co'># # Fuzzy filter on any filtering fields</span>
<span class='co'># ## uses grep on the inside</span>
<span class='co'># get_uid("Satyrium", division_filter = "m")</span>
<span class='co'># </span>
<span class='co'># # specify rows to limit choices available</span>
<span class='co'># get_uid('Dugesia') # user prompt needed</span>
<span class='co'># get_uid('Dugesia', rows=1) # 2 choices, so returns only 1 row, so no choices</span>
<span class='co'># get_uid('Dugesia', ask = FALSE) # returns NA for multiple matches</span>
<span class='co'># </span>
<span class='co'># # Go to a website with more info on the taxon</span>
<span class='co'># res &lt;- get_uid("Chironomus riparius")</span>
<span class='co'># browseURL(attr(res, "uri"))</span>
<span class='co'># </span>
<span class='co'># # Convert a uid without class information to a uid class</span>
<span class='co'># as.uid(get_uid("Chironomus riparius")) # already a uid, returns the same</span>
<span class='co'># as.uid(get_uid(c("Chironomus riparius","Pinus contorta"))) # same</span>
<span class='co'># as.uid(315567) # numeric</span>
<span class='co'># as.uid(c(315567,3339,9696)) # numeric vector, length &gt; 1</span>
<span class='co'># as.uid("315567") # character</span>
<span class='co'># as.uid(c("315567","3339","9696")) # character vector, length &gt; 1</span>
<span class='co'># as.uid(list("315567","3339","9696")) # list, either numeric or character</span>
<span class='co'># ## dont check, much faster</span>
<span class='co'># as.uid("315567", check=FALSE)</span>
<span class='co'># as.uid(315567, check=FALSE)</span>
<span class='co'># as.uid(c("315567","3339","9696"), check=FALSE)</span>
<span class='co'># as.uid(list("315567","3339","9696"), check=FALSE)</span>
<span class='co'># </span>
<span class='co'># (out &lt;- as.uid(c(315567,3339,9696)))</span>
<span class='co'># data.frame(out)</span>
<span class='co'># as.uid( data.frame(out) )</span>
<span class='co'># </span>
<span class='co'># # Get all data back</span>
<span class='co'># get_uid_("Puma concolor")</span>
<span class='co'># get_uid_("Dugesia")</span>
<span class='co'># get_uid_("Dugesia", rows=2)</span>
<span class='co'># get_uid_("Dugesia", rows=1:2)</span>
<span class='co'># get_uid_(c("asdfadfasd","Pinus contorta"))</span>
<span class='co'># </span>
<span class='co'># # use curl options</span>
<span class='co'># library("httr")</span>
<span class='co'># get_uid("Quercus douglasii", config=verbose())</span>
<span class='co'># bb &lt;- get_uid("Quercus douglasii", config=progress())</span>
<span class='co'>## ---------------------------------------------</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#querying">Querying</a></li>

      <li><a href="#filtering">Filtering</a></li>

      <li><a href="#beware">Beware</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Eduard Szoecs, <a href='mailto:eduardszoecs@gmail.com'>eduardszoecs@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Scott Chamberlain, Eduard Szoecs, Zachary Foster.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
